<?php
// $Id$

/**
 * @file
 * Tests for the Maestro module
 */

class MaestroTestCase extends DrupalWebTestCase {
  protected $admin_user;

  public static function getInfo() {
    return array(
      'name' => 'Test Maestro Core functionality',
      'description' => 'Test instantiating the Maestro object.',
      'group' => 'Maestro',
    );
  }

  function setUp() {
    parent::setUp('maestro');
    $this->admin_user = $this->drupalCreateUser(array( 'administer site configuration'));
  }


  function testCreatingMaestroInstance() {
    include_once './' . drupal_get_path('module', 'maestro') . '/maestro.class.php';
    $this->drupalLogin($this->admin_user);
    $v1=Maestro::createMaestroObject(1);
    $v2=Maestro::createMaestroObject(1);
    $exp=var_export($v1,true);
    $exp2=var_export($v2,true);
    $this->assertTrue($exp == $exp2, t('Maestro Instantiation is a singleton'));
    $this->drupalLogout();
  }



}
